<div *ngIf="isLoading" class="flex-center spinner-loading">
  <mat-spinner [diameter]="100"></mat-spinner>
</div>

<div *ngIf="!isLoading">
  <div class="total">
    <h1>Total:</h1>
    <p>
      {{ routes.length }}
      {{ routes.length > 1 || routes.length == 0 ? "rutas" : "ruta" }}
    </p>
  </div>
  <section class="hours">
    <app-top-hours [routes]="routes"></app-top-hours>
    <app-range-hours [routes]="routes"></app-range-hours>
  </section>

  <section class="stadistics">
    <header class="header">
      <h1>Estad√≠sticas Promedio</h1>
    </header>
    <div class="fade-in">
      <app-stadistics [needAvg]="true" [routes]="routes"></app-stadistics>
    </div>
  </section>

  <section class="map">
    <header class="header">
      <h1>Rutas Recurrentes</h1>
    </header>
    <app-filters
      (updateRoutes)="updateRecurrentRoutes($event)"
      [routes]="routes"
    ></app-filters>
    <app-recurrent-routes [routes]="routes"></app-recurrent-routes>
  </section>

  <section class="map">
    <header class="header">
      <h1>Incidentes Recurrentes</h1>
    </header>
    <app-filters
      (updateRoutes)="updateRecurrentIncidents($event)"
      [routes]="routes"
    ></app-filters>
    <app-recurrent-incidents [incidents]="incidents"></app-recurrent-incidents>
  </section>

  <section class="map">
    <header class="header">
      <h1>Mapa de Calor</h1>
    </header>
    <app-filters
      (updateRoutes)="updateHeatMap($event)"
      [routes]="routes"
    ></app-filters>
    <app-heat-map [routes]="routes"></app-heat-map>
  </section>
</div>
